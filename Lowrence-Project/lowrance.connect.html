<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion Lowrance</title>
    <!-- Lien vers le fichier CSS -->
    <link rel="stylesheet" href="styles.connect.css">
        <!-- Script pour g√©rer le cooldown -->
    <script>
        // Cooldown pour le bouton avec message d'√©chec apr√®s 3 secondes
        function cooldownBouton() {
            var bouton = document.getElementById('submitButton');
            var errorMsg = document.getElementById('error-message');
            errorMsg.innerText = '';  // R√©initialise le message d'erreur s'il existe
            bouton.disabled = true;  // D√©sactive le bouton
            bouton.innerText = 'Connexion en cours...';  // Change le texte du bouton

            // R√©active le bouton apr√®s 3 secondes
            setTimeout(function() {
                bouton.innerText = 'Connexion √©chou√©e, r√©essayer';  // Affiche message d'√©chec
                setTimeout(function() {
                    bouton.disabled = false;  // R√©active le bouton apr√®s l'√©chec
                    bouton.innerText = 'Se connecter';  // Remet le texte d'origine
                }, 2000);  // Garde "Connexion √©chou√©e" pendant 2 secondes
            }, 3000);  // 3000 millisecondes = 3 secondes
        }

        // Validation des caract√®res (lettres et chiffres seulement)
        function validateInput(event) {
            var regex = /^[a-zA-Z0-9]*$/;
            var input = event.target.value;
            var errorMsg = document.getElementById('error-message'); // R√©cup√®re l'√©l√©ment du message d'erreur

            // Si l'input contient autre chose que des lettres ou chiffres, on affiche un message d'erreur
            if (!regex.test(input)) {
                errorMsg.innerText = 'Seules les lettres et les chiffres sont autoris√©s.';  // Message en rouge
                event.target.value = input.replace(/[^a-zA-Z0-9]/g, "");  // Supprime les caract√®res non valides
            } else {
                errorMsg.innerText = '';  // Enl√®ve le message si tout est valide
            }
        }
    </script>
</head>
<body>
    <a href="lowrance.mainpage.html"class="logo">üè†</a>
    <div class="login-container">
        <h2>Connexion √† Lowrance</h2>

        <!-- Message d'erreur affich√© ici -->
        <p id="error-message"></p>

        <form action="/login" method="POST" onsubmit="cooldownBouton(); return false;">
            <div class="form-group">
                <label for="login">Login (Nom d'utilisateur) :</label>
                <input type="text" id="login" name="login" required oninput="validateInput(event)">
            </div>
            <div class="form-group">
                <label for="passwd">Mot de passe :</label>
                <input type="password" id="passwd" name="passwd" required oninput="validateInput(event)">
            </div>
            <div class="form-group">
                <button type="submit" id="submitButton">Se connecter</button>
            </div>
        </form>

        <!-- Lien pour cr√©er un compte -->
        <p class="login-text">Vous n'avez pas encore de compte ? <a href="lowrance.register.html" id="register-link">Cr√©er En Un</a></p>
    </div>
</body>
</html>
